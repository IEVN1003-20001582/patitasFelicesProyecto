<!-- Si NO es ruta pública, mostramos el layout completo -->
<div *ngIf="!esRutaPublica()" class="flex min-h-screen bg-light-bg">
    
    <!-- El Sidebar (Fijo a la izquierda) -->
    <app-sidebar [rolUsuario]="getRolActual()"></app-sidebar>

    <!-- Contenedor Principal (A la derecha del Sidebar) -->
    <!-- md:ml-64 es la CLAVE: Empuja todo el contenido 256px a la derecha para no quedar debajo del sidebar -->
    <div class="flex-1 flex flex-col transition-all duration-300 md:ml-64 min-w-0">
        
        <!-- Navbar (Pegado arriba) -->
        <app-navbar></app-navbar>
        
        <!-- Contenido de la Página (Con scroll) -->
        <main class="p-6 overflow-x-hidden">
            <router-outlet></router-outlet> 
        </main>

    </div>
</div>

<!-- Si ES ruta pública (Login/Bienvenida), pantalla completa sin márgenes -->
<div *ngIf="esRutaPublica()" class="min-h-screen w-full">
    <router-outlet></router-outlet>
</div>